<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Brain Assembly X3D Model</title>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
		<script type='text/javascript' src='https://www.x3dom.org/download/x3dom.js'></script>
		<link rel='stylesheet' type='text/css' href='css/styles.css'/>
		<link rel='stylesheet' type='text/css' href='https://www.x3dom.org/download/x3dom.css'/>
	</head>
	<body style="background-color: #FAFAFA;">
			<nav>
				<ul>
				  <li><a href="http://web-students.armstrong.edu/~em07614/test/3dmodels.php">Home</a></li> 
				</ul>
			</nav>
		<div class="center">
			<div class="sidebar">
				<h2>Brain (anterior aspect):</h2>
				<p>Explode all button and sliders not working(Work-in-Progress)</p>
				<center><input type="button" id="explode" onclick="modAll(100, false)" value="Explode All"><input type="button" id="reset" onclick="modAll(0, true)" value="Reset All"><input type="button" id="reset" onclick="disableAll(-1)" value="Disable All"></center>
				<h3>Frontal (Left)</h3>
				<div class="ctGuts">
					<input type="checkbox" name="enabler" id="frontalLBoolean" onchange="updateFrontalL()" value="enabled" checked>
					<label for="frontalLBoolean">Enabled</label>
					<input type="button" id="frontalLInverse" onclick="disableAll(0)" style="float: right;" value="Disable All Other Parts">
					<br>
					<input type="range" name="slider" min="0" max="100" value="0" class="slider" id="frontalLSlider" onchange="updateFrontalL()" class="slider">
					<label id="frontalLPercentage" class="percentage">0%</label>
				</div>
				<h3>Frontal (Right)</h3>
				<div class="ctGuts">
					<input type="checkbox" name="enabler" id="frontalRBoolean" onchange="updateFrontalR()" value="enabled" checked>
					<label for="frontalRBoolean">Enabled</label>
					<input type="button" id="frontalRInverse" onclick="disableAll(1)" style="float: right;" value="Disable All Other Parts">
					<br>
					<input type="range" name="slider" min="0" max="100" value="0" class="slider" id="frontalRSlider" onchange="updateFrontalR()" class="slider">
					<label id="frontalRPercentage" class="percentage">0%</label>
				</div>
				<h3>Parietal (Left)</h3>
				<div class="ctGuts">
					<input type="checkbox" name="enabler" id="parietalLBoolean" onchange="updateParietalL()" value="enabled" checked>
					<label for="parietalLBoolean">Enabled</label>
					<input type="button" id="parietalLInverse" onclick="disableAll(2)" style="float: right;" value="Disable All Other Parts">
					<br>
					<input type="range"  name="slider" min="0" max="100" value="0" class="slider" id="parietalLSlider" onchange="updateParietalL()" class="slider">
					<label id="parietalLPercentage" class="percentage">0%</label>
				</div>
				<h3>Parietal (Right)</h3>
				<div class="ctGuts">
					<input type="checkbox" name="enabler" id="parietalRBoolean" onchange="updateParietalR()" value="enabled" checked>
					<label for="parietalRBoolean">Enabled</label>
					<input type="button" id="parietalRInverse" onclick="disableAll(3)" style="float: right;" value="Disable All Other Parts">
					<br>
					<input type="range"  name="slider" min="0" max="100" value="0" class="slider" id="parietalRSlider" onchange="updateParietalR()" class="slider">
					<label id="parietalRPercentage" class="percentage">0%</label>
				</div>
				<h3>Cerebral</h3>
				<div class="ctGuts">
					<input type="checkbox" name="enabler" id="cerebralBoolean" onchange="updateCerebral()" value="enabled" checked>
					<label for="cerebralBoolean">Enabled</label>
					<input type="button" id="cerebralInverse" onclick="disableAll(4)" style="float: right;" value="Disable All Other Parts">
					<br>
					<input type="range"  name="slider" min="0" max="100" value="0" class="slider" id="cerebralSlider" onchange="updateCerebral()" class="slider">
					<label id="cerebralPercentage" class="percentage">0%</label>
				</div>
				<h3>Stem</h3>
				<div class="ctGuts">
					<input type="checkbox" name="enabler" id="stemBoolean" onchange="updateStem()" value="enabled" checked>
					<label for="stemBoolean">Enabled</label>
					<input type="button" id="stemInverse" onclick="disableAll(5)" style="float: right;" value="Disable All Other Parts">
					<br>
					<input type="range"  name="slider" min="0" max="100" value="0" class="slider" id="stemSlider" onchange="updateStem()" class="slider">
					<label id="stemPercentage" class="percentage">0%</label>
				</div>
				<h3>Temporal (Left)</h3>
				<div class="ctGuts">
					<input type="checkbox" name="enabler" id="temporalLBoolean" onchange="updateTemporalL()" value="enabled" checked>
					<label for="temporalLBoolean">Enabled</label>
					<input type="button" id="temporalLInverse" onclick="disableAll(6)" style="float: right;" value="Disable All Other Parts">
					<br>
					<input type="range"  name="slider" min="0" max="100" value="0" class="slider" id="temporalLSlider" onchange="updateTemporalL()" class="slider">
					<label id="temporalLPercentage" class="percentage">0%</label>
				</div>
				<h3>Temporal (Right)</h3>
				<div class="ctGuts">
					<input type="checkbox" name="enabler" id="temporalRBoolean" onchange="updateTemporalR()" value="enabled" checked>
					<label for="temporalRBoolean">Enabled</label>
					<input type="button" id="temporalRInverse" onclick="disableAll(7)" style="float: right;" value="Disable All Other Parts">
					<br>
					<input type="range"  name="slider" min="0" max="100" value="0" class="slider" id="temporalRSlider" onchange="updateTemporalR()" class="slider">
					<label id="temporalRPercentage" class="percentage">0%</label>
				</div>
			</div>
			<div class="maxwrap">
				<div class="x3d">					
					<x3d id="skullScene">
						<scene onload="onLoad()">
							<Background skyColor='(.067,.067,.067)'></Background>
							<Inline nameSpaceName="Brain" mapDEFToID="true" url="x3d/brain/Brain_nocompression.x3d"></Inline>
						</scene>
					</x3d>
				</div>
			</div>
		</div>
	</body>
	<script>
		var mf = 0.18;
		
		function modAll(val, flag)
		{
			// Combined reset and explode function
			var a = document.getElementsByName("enabler");
			var b = document.getElementsByName("slider");
			var i;
			for (i = 0; i < a.length; i++) {
				if (flag)
					a[i].checked = true;
				b[i].value = val;
			} 
			updateAll();
		}
		function updateAll()
		{
			// Updates all Parts in X3D
			updateTemporalL();
			updateTemporalR();
			updateParietalR();
			updateParietalL();
			updateFrontalL();
			updateFrontalR();
			updateCerebral();
			updateStem();
			
		}
		function disableAll(exception)
		{
			// Disables all checkboxes
			var a = document.getElementsByName("enabler");
			for (i = 0; i < a.length; i++) {
				a[i].checked = false;
			}
			
			// Checks to see if any checkboxes should be renabled based on argument
			switch(exception) {
				case 0:
					document.getElementById("frontalLBoolean").checked = true;
					break;
				case 1:
					document.getElementById("frontalRBoolean").checked = true;
					break;
				case 2:
					document.getElementById("parietalLBoolean").checked = true;
					break;
				case 3:
					document.getElementById("parietalRBoolean").checked = true;
					break;
				case 4:
					document.getElementById("cerebralBoolean").checked = true;
					break;
				case 5:
					document.getElementById("stemBoolean").checked = true;
					break;
				case 6:
					document.getElementById("temporalLBoolean").checked = true;
					break;
				case 7:
					document.getElementById("temporalRBoolean").checked = true;
					break;
				default:
			} 
			// Checks to see what checkboxes are checked to disable all but supplied argument
			updateAll();
		}
		// Update Functions foreach Part
		function updateFrontalR()
		{
			var c = document.getElementById("frontalRBoolean");
			var p = document.getElementById("frontalRPercentage");
			var s = document.getElementById("frontalRSlider");
			var xt = document.getElementById("Brain__Frontal_R_0");
			//var xs = document.getElementById("Skull__Slider_Move_74");
			
			updatePart(c, p, s, xt, mf);
		}
		function updateFrontalL()
		{
			var c = document.getElementById("frontalLBoolean");
			var p = document.getElementById("frontalLPercentage");
			var s = document.getElementById("frontalLSlider");
			var xt = document.getElementById("Brain__Frontal");
			//var xs = document.getElementById("Skull__Slider_Move_74");
			
			updatePart(c, p, s, xt, mf);
		}
		function updateParietalL()
		{
			var c = document.getElementById("parietalLBoolean");
			var p = document.getElementById("parietalLPercentage");
			var s = document.getElementById("parietalLSlider");
			var xt = document.getElementById("Brain__Pariet");
			//var xs = document.getElementById("Skull__Slider_Move_64");
			
			updatePart(c, p, s, xt, mf);
		}
		function updateParietalR()
		{
			var c = document.getElementById("parietalRBoolean");
			var p = document.getElementById("parietalRPercentage");
			var s = document.getElementById("parietalRSlider");
			var xt = document.getElementById("Brain__Pariet_L");
			//var xs = document.getElementById("Skull__Slider_Move_86");
			
			updatePart(c, p, s, xt, mf);
		}
		function updateCerebral()
		{
			var c = document.getElementById("cerebralBoolean");
			var p = document.getElementById("cerebralPercentage");
			var s = document.getElementById("cerebralSlider");
			var xt = document.getElementById("Brain__Cereb");
			//var xs = document.getElementById("Skull__Slider_Move_127");
			
			updatePart(c, p, s, xt, mf);
		}
		function updateStem()
		{
			var c = document.getElementById("stemBoolean");
			var p = document.getElementById("stemPercentage");
			var s = document.getElementById("stemSlider");
			var xt = document.getElementById("Brain__Stem");
			//var xs = document.getElementById("Skull__Slider_Move_153");
			
			updatePart(c, p, s, xt, mf);
		}
		function updateTemporalL()
		{
			var c = document.getElementById("temporalLBoolean");
			var p = document.getElementById("temporalLPercentage");
			var s = document.getElementById("temporalLSlider");
			var xt = document.getElementById("Brain__Temp");
			//var xs = document.getElementById("Skull__Slider_Move_112");
			
			updatePart(c, p, s, xt, mf);
		}
		function updateTemporalR()
		{
			var c = document.getElementById("temporalRBoolean");
			var p = document.getElementById("temporalRPercentage");
			var s = document.getElementById("temporalRSlider");
			var xt = document.getElementById("Brain__Temp_R");
			//var xs = document.getElementById("Skull__Slider_Move_101");
			
			updatePart(c, p, s, xt, mf);
		}
		function updatePart(c, p, s, xt, mf) {
            var af = s.value;
            af = (mf/100)*af;
            p.innerHTML = (s.value) + '%';
            if (c.checked == true) {
                xt.setAttribute('render', true);
            }
            else {
                xt.setAttribute('render', false);
            }
        }
		//function updatePart(c, p, s, xt, xs, mf) {
			//var af = s.value;
			//af = (mf/100)*af;
			//p.innerHTML = (s.value) + '%';
			//xs.setAttribute('translation', "0 " + af + " 0");
			//if (c.checked == true) {
			//	xt.setAttribute('render', true);
			//}
			//else {
			//	xt.setAttribute('render', false);
			//}
		//}
	</script>
</html>